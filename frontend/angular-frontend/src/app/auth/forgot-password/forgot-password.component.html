<div class="forgot-container">
  <div class="forgot-form-wrapper">

    @if (messageSent) {
      <div class="success-message">
        <h2>Correo Enviado</h2>
        <p>
          Si una cuenta coincide con <strong>{{ email?.value }}</strong
          >, recibirás un correo con instrucciones para restablecer tu
          contraseña.
        </p>
        <a routerLink="/login" class="back-link">Volver a Inicio de Sesión</a>
      </div>
    } @else {
      <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
        <h2>Recuperar Contraseña</h2>
        <p class="instructions">
          Ingresa tu correo electrónico y te enviaremos un enlace para
          restablecer tu contraseña.
        </p>

        <div class="form-group">
          <label for="email">Correo Electrónico:</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [class.invalid]="email?.invalid && (email?.dirty || email?.touched)"
          />
          @if (email?.invalid && (email?.dirty || email?.touched)) {
            <div class="error-message">
              @if (email?.errors?.['required']) {
                <small>El correo es requerido.</small>
              }
              @if (email?.errors?.['email']) {
                <small>Debe ser un correo válido.</small>
              }
            </div>
          }
        </div>

        <button type="submit" [disabled]="forgotForm.invalid">
          Enviar Enlace
        </button>

        <div class="form-footer">
          <a routerLink="/login">Cancelar y volver a Inicio de Sesión</a>
        </div>
      </form>
    }

  </div>
</div>